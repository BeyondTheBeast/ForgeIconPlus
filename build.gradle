apply plugin: 'java'
import org.apache.tools.ant.filters.ReplaceTokens

version = "1.0"

repositories {
    jcenter()
    maven { url 'https://oss.sonatype.org/content/repositories/snapshots/' }
}

dependencies {
    compile 'net.md-5:bungeecord-api:1.12-SNAPSHOT'
}

sourceSets.main.java.srcDirs = ['build/src/main/java']

task prepareSources(type: Copy) {
    from('src/main/java')
    into('build/src/main/java')
    filter(ReplaceTokens, tokens: ["VERSION": project.version])
}

processResources {
    filter(ReplaceTokens, tokens: ["VERSION": project.version])
}

compileJava.dependsOn prepareSources